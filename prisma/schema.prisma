// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

generator nexusPrisma {
  provider = "nexus-prisma"
}

datasource db {
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model Channel {
  id           String         @id
  title        String
  thumbnail    String
  description  String         @db.Text
  publishedAt  DateTime
  Videos       Video[]
  ChannelGroup ChannelGroup[]
}

model ChannelGroup {
  id          Int       @id @default(autoincrement())
  title       String
  description String    @default("") @db.Text
  Channels    Channel[]
}

model Video {
  id            String    @id
  channelId     String
  Channel       Channel   @relation(fields: [channelId], references: [id], onDelete: Cascade)
  title         String
  publishedAt   DateTime
  thumbnail     String?
  description   String?   @db.Text
  liveStatus    String?
  uploadStatus  String?
  privacyStatus String?
  startTime     DateTime?
  endTime       DateTime?
  scheduledTime DateTime?
  duration      Int?

  @@index([channelId])
}
